=========================================
Прочие (вспомогательные) классы и функции
=========================================

FoundLine
=========

Строка найденной записи, может содержать результат расформатирования найденной записи.

.. _menu-files:

MenuFile и MenuLine
===================

Файл меню. Состоит из пар строк и завершается специальной строкой `*****`. Пример такого файла:

.. code-block::

    Ф201
    Книжный читальный зал естественно-научной, медицинской, сельскохозяйственной и технической литературы
    Ф202
    Книжный читальный зал гуманитарных наук
    ЭБ
    Электронная библиотека
    *****


Получение файла меню с сервера ИРБИС64 (см. :ref:`file-specification`):

.. code-block:: php

    // Меню с перечнем кафедр обслуживания
    $cathedras = $connection->readMenuFile('2.IBIS.mhr.mnu');


Запрос значения, ассоциированного с указанным ключом:

.. code-block:: php

    // Если запрошенного ключа в меню нет, будет возвращена пустая строка
    $pantry = $menu->getValue('ФКХ');

    // Можно указать значение по умолчанию
    $pantry = $menu->getValue('ФКХ', 'Кладовка');


При необходимости меню можно сформировать программно:

.. code-block:: php

    // Формирование меню
    $menu = new \Irbis\MenuFile();
    $menu->add ('a', 'Первый этап проверки');
    $menu->add ('b', 'Второй этап проверки');
    $menu->add ('z', 'Последний этап проверки');

    // Отправка сформированного меню на сервер ИРБИС
    $specification = '2.IBIS.verification.mnu&' . dos_to_irbis ((string) $menu);
    $connection->writeTextFile ($specification);

.. _ini-files:

IniFile, IniSection и IniLine
=============================

INI-файл, состоящий из секций, которые в свою очередь состоят из строк вида "ключ=значение".

Получение значения для ключа "FmtMnu" из секции "Main" с указанием значения по умолчанию:

.. code-block:: php

    $formatMenuName = $client->iniFile->getValue('Main', 'FmtMnu', 'FMT31.MNU');


TreeFile и TreeLine
===================

TRE-файл -- древовидный справочник.

DatabaseInfo
============

Информация о базе данных ИРБИС.

ProcessInfo
===========

Информация о запущенном на ИРБИС-сервере процессе.

VersionInfo
===========

Информация о версии ИРБИС-сервера.

ClientInfo
==========

Информация о клиенте, подключенном к серверу ИРБИС (не обязательно о текущем).

UserInfo
========

Информация о зарегистрированном пользователе системы (по данным ``client_m.mnu``).

TableDefinition
===============

Данные для метода ``printTable``.

ServerStat
==========

Статистика работы ИРБИС-сервера.

PostingParameters
=================

Параметры для запроса постингов с сервера.

TermParameters
==============

Параметры для запроса терминов с сервера.

TermInfo
========

Информация о термине поискового словаря.

TermPosting
===========

Постинг термина в поисковом индексе.

SearchParameters
================

Параметры для поиска записей (метод searchEx).

SearchScenario
==============

Сценарий поиска.

ParFile
=======

PAR-файл -- содержит пути к файлам базы данных ИРБИС.

OptFile и OptLine
=================

OPT-файл -- файл оптимизации рабочих листов и форматов показа.

GblStatement и GblSettings
==========================

Классы для глобальной корректировки базы данных.

ClientQuery
===========

Клиентский запрос. Инфраструктурный класс.

ServerResponse
==============

Ответ сервера. Инфраструктурный класс.

