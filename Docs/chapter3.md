### Классы MarcRecord, RecordField и SubField

#### MarcRecord

Каждый экземпляр класса `MarcRecord` соответствует одной записи в базе данных ИРБИС. Он содержит следующие поля:

Поле|Тип|Назначение
----|---|----------
database | string  | Имя базы данных, из которой загружена данная запись. Для вновь созданных записей пустая строка
mfn      | integer | Номер записи в мастер-файле. Для вновь созданных записей 0
status   | integer | Статус записи: логически удалена, отсутствует (см. ниже)
version  | integer | Номер версии записи
fields   | array   | Массив полей записи

Статус записи: набор флагов (определены как константы в `PhpIrbis`)

Имя|Число|Значение
---|-----|--------
LOGICALLY_DELETED  | 1 | Логически удалена (может быть восстановлена)
PHYSICALLY_DELETED | 2 | Физически удалена (не может быть восстановлена)
ABSENT             | 4 | Отсутствует
NON_ACTUALIZED     | 8 | Не актуализирована
LAST               | 32 | Последняя версия записи
LOCKED             | 64 | Запись заблокирована на ввод

#### RecordField

Поле|Тип|Назначение
----|---|----------
tag       | integer | Метка поля
value     | string  | Значение поля до первого разделителя
subfields | array   | Массив подполей

#### SubField

Поле|Тип|Назначение
----|---|----------
code  | string | Код подполя (один символ!)
value | string | Значение подполя

#### Добавление полей к записи и подполей к полю

```php
$record = new MarcRecord();
$record->add(700)
    ->add('a', 'Миронов')
    ->add('b', 'А. В.')
    ->add('g', 'Алексей Владимирович');
```

[Предыдущая глава](chapter2.md)